<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="tykki.css">
    <link rel="shortcut icon" href="kuvat/tykki.png" type="image/x-icon">
    <title>Tykärit</title>
</head>
<body>

    <button id="playBtn">&#x1F507;</button>
    <audio id="pauke" preload="auto">        
        <source src="aanet/StartPage.mp3" type="audio/mpeg">
    </audio>    

    <div id="etusivu">
        <div id="pelaajat">            
            <label for="p1">Pelaaja1</label>
            <input type="text" id="p1" name="p1" required maxlength="6" size="6">
            <label for="p2">Pelaaja2</label>
            <input type="text" id="p2" name="p1" required maxlength="6" size="6"><br>
            <button>1 kierros</button>
            <button onclick="tallennaNimet()">Pelaa!</button>
        </div>
    </div>    

    <footer>Thanks for the music and sounds to www.fesliyanstudios.com</footer>

    <Script>
        // painike ja elementti DOMissa
        const soittoNappi = document.getElementById('playBtn');
        const aaniElementti = document.getElementById('pauke');

        // äänen tila
        let soittoSoi = false;

        // tapahtumankuuntelija painikkeelle
        soittoNappi.addEventListener('click', function() {
            if (soittoSoi) {
                aaniElementti.pause();
                soittoNappi.innerHTML = '&#x1F507;'; // ääni pois
            } else {
                aaniElementti.play(); // Soitetaan ääni
                soittoNappi.innerHTML = '&#x1F50A;';
            }
            soittoSoi = !soittoSoi; //tilan vaihto
        });

        // painikkeen kuvake päivittyy kun pärinä loppuu
        aaniElementti.addEventListener('ended', function() {
            soittoNappi.innerHTML = '&#x1F507;'; // ääni pois
            soittoSoi = false;
        });

        // Pelaajanimet etusivulta
        function tallennaNimet() {
            p1 = document.getElementById('p1').value;
            p2 = document.getElementById('p2').value;
            if (p1 == '' || p2 == '') { //ErrorHandleri
                alert('Anna molemmat pelaajanimet')
                window.location.href = 'index.html'
            } else {
                sessionStorage.setItem('p1', p1); 
                sessionStorage.setItem('p2', p2);
                window.location.href = 'tykari.html'
            }
        }
    </Script>

</body>
</html>
